"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[5946],{3905:function(e,n,t){t.d(n,{Zo:function(){return m},kt:function(){return d}});var a=t(67294);function o(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function l(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function i(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?l(Object(t),!0).forEach((function(n){o(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):l(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function c(e,n){if(null==e)return{};var t,a,o=function(e,n){if(null==e)return{};var t,a,o={},l=Object.keys(e);for(a=0;a<l.length;a++)t=l[a],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)t=l[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var s=a.createContext({}),r=function(e){var n=a.useContext(s),t=n;return e&&(t="function"==typeof e?e(n):i(i({},n),e)),t},m=function(e){var n=r(e.components);return a.createElement(s.Provider,{value:n},e.children)},u={inlineCode:"code",wrapper:function(e){var n=e.children;return a.createElement(a.Fragment,{},n)}},p=a.forwardRef((function(e,n){var t=e.components,o=e.mdxType,l=e.originalType,s=e.parentName,m=c(e,["components","mdxType","originalType","parentName"]),p=r(t),d=o,y=p["".concat(s,".").concat(d)]||p[d]||u[d]||l;return t?a.createElement(y,i(i({ref:n},m),{},{components:t})):a.createElement(y,i({ref:n},m))}));function d(e,n){var t=arguments,o=n&&n.mdxType;if("string"==typeof e||o){var l=t.length,i=new Array(l);i[0]=p;var c={};for(var s in n)hasOwnProperty.call(n,s)&&(c[s]=n[s]);c.originalType=e,c.mdxType="string"==typeof e?e:o,i[1]=c;for(var r=2;r<l;r++)i[r]=t[r];return a.createElement.apply(null,i)}return a.createElement.apply(null,t)}p.displayName="MDXCreateElement"},72360:function(e,n,t){t.d(n,{Z:function(){return i}});var a=t(67294),o=t(86010),l="tabItem_OmH5";function i(e){var n=e.children,t=e.hidden,i=e.className;return a.createElement("div",{role:"tabpanel",className:(0,o.Z)(l,i),hidden:t},n)}},9877:function(e,n,t){t.d(n,{Z:function(){return d}});var a=t(87462),o=t(67294),l=t(72389),i=t(67392),c=t(7094),s=t(12466),r=t(86010),m="tabList_uSqn",u="tabItem_LplD";function p(e){var n,t,l,p=e.lazy,d=e.block,y=e.defaultValue,g=e.values,h=e.groupId,f=e.className,b=o.Children.map(e.children,(function(e){if((0,o.isValidElement)(e)&&void 0!==e.props.value)return e;throw new Error("Docusaurus error: Bad <Tabs> child <"+("string"==typeof e.type?e.type:e.type.name)+'>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.')})),k=null!=g?g:b.map((function(e){var n=e.props;return{value:n.value,label:n.label,attributes:n.attributes}})),v=(0,i.l)(k,(function(e,n){return e.value===n.value}));if(v.length>0)throw new Error('Docusaurus error: Duplicate values "'+v.map((function(e){return e.value})).join(", ")+'" found in <Tabs>. Every value needs to be unique.');var x=null===y?y:null!=(n=null!=y?y:null==(t=b.find((function(e){return e.props.default})))?void 0:t.props.value)?n:null==(l=b[0])?void 0:l.props.value;if(null!==x&&!k.some((function(e){return e.value===x})))throw new Error('Docusaurus error: The <Tabs> has a defaultValue "'+x+'" but none of its children has the corresponding value. Available values are: '+k.map((function(e){return e.value})).join(", ")+". If you intend to show no default tab, use defaultValue={null} instead.");var w=(0,c.U)(),N=w.tabGroupChoices,_=w.setTabGroupChoices,T=(0,o.useState)(x),C=T[0],j=T[1],E=[],I=(0,s.o5)().blockElementScrollPositionUntilNextRender;if(null!=h){var R=N[h];null!=R&&R!==C&&k.some((function(e){return e.value===R}))&&j(R)}var q=function(e){var n=e.currentTarget,t=E.indexOf(n),a=k[t].value;a!==C&&(I(n),j(a),null!=h&&_(h,a))},X=function(e){var n,t=null;switch(e.key){case"ArrowRight":var a=E.indexOf(e.currentTarget)+1;t=E[a]||E[0];break;case"ArrowLeft":var o=E.indexOf(e.currentTarget)-1;t=E[o]||E[E.length-1]}null==(n=t)||n.focus()};return o.createElement("div",{className:(0,r.Z)("tabs-container",m)},o.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,r.Z)("tabs",{"tabs--block":d},f)},k.map((function(e){var n=e.value,t=e.label,l=e.attributes;return o.createElement("li",(0,a.Z)({role:"tab",tabIndex:C===n?0:-1,"aria-selected":C===n,key:n,ref:function(e){return E.push(e)},onKeyDown:X,onFocus:q,onClick:q},l,{className:(0,r.Z)("tabs__item",u,null==l?void 0:l.className,{"tabs__item--active":C===n})}),null!=t?t:n)}))),p?(0,o.cloneElement)(b.filter((function(e){return e.props.value===C}))[0],{className:"margin-top--md"}):o.createElement("div",{className:"margin-top--md"},b.map((function(e,n){return(0,o.cloneElement)(e,{key:n,hidden:e.props.value!==C})}))))}function d(e){var n=(0,l.Z)();return o.createElement(p,(0,a.Z)({key:String(n)},e))}},21737:function(e,n,t){t.r(n),t.d(n,{assets:function(){return p},contentTitle:function(){return m},default:function(){return g},frontMatter:function(){return r},metadata:function(){return u},toc:function(){return d}});var a=t(87462),o=t(63366),l=(t(67294),t(3905)),i=t(9877),c=t(72360),s=["components"],r={sidebar_position:1,title:"Quickstart"},m=void 0,u={unversionedId:"collections/documents/quickstart",id:"collections/documents/quickstart",title:"Quickstart",description:"If you are new to Macrometa GDN, we strongly recommend reading Essentials of Macrometa GDN.",source:"@site/docs/collections/documents/quickstart.md",sourceDirName:"collections/documents",slug:"/collections/documents/quickstart",permalink:"/docs/collections/documents/quickstart",draft:!1,editUrl:"https://github.com/macrometacorp/docs/edit/master/docs/collections/documents/quickstart.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1,title:"Quickstart"},sidebar:"tutorialSidebar",previous:{title:"Error Codes",permalink:"/docs/collections/documents/appendix/error-codes"},next:{title:"Naming Conventions",permalink:"/docs/collections/documents/naming-conventions"}},p={},d=[{value:"Pre-requisite",id:"pre-requisite",level:2},{value:"Driver download",id:"driver-download",level:2},{value:"Connect to GDN",id:"connect-to-gdn",level:2},{value:"Get GeoFabric Details",id:"get-geofabric-details",level:2},{value:"Create Collection",id:"create-collection",level:2},{value:"Create Index",id:"create-index",level:2},{value:"Insert Documents",id:"insert-documents",level:2},{value:"Query documents using C8QL",id:"query-documents-using-c8ql",level:2},{value:"Get realtime updates",id:"get-realtime-updates",level:2},{value:"Query as API",id:"query-as-api",level:2}],y={toc:d};function g(e){var n=e.components,t=(0,o.Z)(e,s);return(0,l.kt)("wrapper",(0,a.Z)({},y,t,{components:n,mdxType:"MDXLayout"}),(0,l.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,l.kt)("div",{parentName:"div",className:"admonition-heading"},(0,l.kt)("h5",{parentName:"div"},(0,l.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,l.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,l.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),(0,l.kt)("div",{parentName:"div",className:"admonition-content"},(0,l.kt)("p",{parentName:"div"},"If you are new to Macrometa GDN, we strongly recommend reading ",(0,l.kt)("strong",{parentName:"p"},(0,l.kt)("a",{parentName:"strong",href:"/docs/essentials/overview"},"Essentials"))," of Macrometa GDN."))),(0,l.kt)("p",null,"Documents in GDN are JSON objects. These objects can be nested (to any depth) and may contain lists. Each document has a unique ",(0,l.kt)("a",{parentName:"p",href:"#document-key"},"primary key")," which identifies it within its collection. Furthermore, each document is uniquely identified by its ",(0,l.kt)("a",{parentName:"p",href:"#document-handle"},"document handle")," across all collections. Different revisions of the same document (identified by its handle) can be distinguished by their ",(0,l.kt)("a",{parentName:"p",href:"#document-revision"},"document revision"),". Any transaction only ever sees a single revision of a document."),(0,l.kt)("p",null,"For example:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json"},'{\n"_id" : "myusers/3456789",\n"_key" : "3456789",\n"_rev" : "14253647",\n"firstName" : "John",\n"lastName" : "Doe",\n"address" : {\n  "street" : "Road To Nowhere 1",\n  "city" : "Gotham"\n},\n"hobbies" : [\n  {name: "swimming", howFavorite: 10},\n  {name: "biking", howFavorite: 6},\n  {name: "programming", howFavorite: 4}\n]\n}\n')),(0,l.kt)("p",null,"All documents contain special attributes:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"the ",(0,l.kt)("a",{parentName:"li",href:"#document-handle"},"document handle")," is stored as a string in ",(0,l.kt)("inlineCode",{parentName:"li"},"_id"),", "),(0,l.kt)("li",{parentName:"ul"},"the ",(0,l.kt)("a",{parentName:"li",href:"#document-key"},"document's primary key")," in ",(0,l.kt)("inlineCode",{parentName:"li"},"_key")," and "),(0,l.kt)("li",{parentName:"ul"},"the ",(0,l.kt)("a",{parentName:"li",href:"#document-revision"},"document revision")," in ",(0,l.kt)("inlineCode",{parentName:"li"},"_rev"),". ")),(0,l.kt)("p",null,"The value of the ",(0,l.kt)("inlineCode",{parentName:"p"},"_key")," attribute can be specified by the user when creating a document. ",(0,l.kt)("inlineCode",{parentName:"p"},"_id")," and ",(0,l.kt)("inlineCode",{parentName:"p"},"_key")," values are immutable once the document has been created. The ",(0,l.kt)("inlineCode",{parentName:"p"},"_rev")," value is maintained by GDN automatically."),(0,l.kt)("h2",{id:"pre-requisite"},"Pre-requisite"),(0,l.kt)("p",null,"Let's assume your"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Tenant name is ",(0,l.kt)("inlineCode",{parentName:"li"},"nemo@nautilus.com")," and "),(0,l.kt)("li",{parentName:"ul"},"User password is ",(0,l.kt)("inlineCode",{parentName:"li"},"xxxxxx"),".")),(0,l.kt)("h2",{id:"driver-download"},"Driver download"),(0,l.kt)(i.Z,{groupId:"operating-systems",mdxType:"Tabs"},(0,l.kt)(c.Z,{value:"py",label:"Python",mdxType:"TabItem"},(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-py"},"\n  pyC8 requires Python 3.5+. Python 3.6 or higher is recommended\n\n  To install pyC8, simply run\n\n      $ pip3 install pyC8\n\n  or, if you prefer to use conda:\n\n      conda install -c conda-forge pyC8\n\n  or pipenv:\n\n      pipenv install --pre pyC8\n\n  Once the installation process is finished, you can begin developing applications in Python.\n"))),(0,l.kt)(c.Z,{value:"js",label:"Javascript",mdxType:"TabItem"},(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"  With Yarn or NPM\n\n      yarn add jsc8\n      (or)\n      npm install jsc8\n\n  If you want to use the driver outside of the current directory, you can also install it globally using the `--global` flag:\n\n      npm install --global jsc8\n\n  From source,\n\n      git clone https://github.com/macrometacorp/jsc8.git\n      cd jsC8\n      npm install\n      npm run dist\n")))),(0,l.kt)("h2",{id:"connect-to-gdn"},"Connect to GDN"),(0,l.kt)("p",null,"The first step in using GDN is to establish a connection to a region. When this code executes, it initializes the server connection to the *",(0,l.kt)("em",{parentName:"p"},"closest")," region to your location."),(0,l.kt)(i.Z,{groupId:"operating-systems",mdxType:"Tabs"},(0,l.kt)(c.Z,{value:"py",label:"Python",mdxType:"TabItem"},(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-py"},"  from c8 import C8Client\n\n  print(\"--- Connecting to C8\")\n  # Simple Way\n  client = C8Client(protocol='https', host='gdn.paas.macrometa.io', port=443,\n                          email='nemo@nautilus.com', password='xxxxx',\n                          geofabric='_system')\n\n  # To use advanced options\n  client = C8Client(protocol='https', host='gdn.paas.macrometa.io', port=443)\n"))),(0,l.kt)(c.Z,{value:"js",label:"Javascript",mdxType:"TabItem"},(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},'  const jsc8 = require("jsc8");\n\n  // Simple Way\n  const client = new jsc8({url: "https://gdn.paas.macrometa.io", token: "XXXX", fabricName: \'_system\'});\n  // ----- OR -----\n  const client = new jsc8({url: "https://gdn.paas.macrometa.io", apiKey: "XXXX", fabricName: \'_system\'});\n\n\n  // To use advanced options\n  const client = new jsc8("https://gdn.paas.macrometa.io"); \n')))),(0,l.kt)("h2",{id:"get-geofabric-details"},"Get GeoFabric Details"),(0,l.kt)("p",null,"To get details of fabric,"),(0,l.kt)(i.Z,{groupId:"operating-systems",mdxType:"Tabs"},(0,l.kt)(c.Z,{value:"py",label:"Python",mdxType:"TabItem"},(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-py"},"  from c8 import C8Client\n  client = C8Client(protocol='https', host='gdn.paas.macrometa.io', port=443,\n                          email='nemo@nautilus.com', password='xxxxx',\n                          geofabric='_system')\n  print(\"Get geo fabric details...\")\n  print(client.get_fabric_details())\n"))),(0,l.kt)(c.Z,{value:"js",label:"Javascript",mdxType:"TabItem"},(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},'  const jsc8 = require("jsc8");\n\n  // Crete a authenticated instance with Token / Apikey\n  // const client = new jsc8({url: "https://gdn.paas.macrometa.io", token: "XXXX", fabricName: \'_system\'});\n  // const client = new jsc8({url: "https://gdn.paas.macrometa.io", apiKey: "XXXX", fabricName: \'_system\'});\n  // await console.log("Authentication done!!...");\n\n  // Or use Email & Password to Authenticate client instance\n  const client = new jsc8("https://gdn.paas.macrometa.io");\n\n  await client.login("nemo@nautilus.com", "xxxxxx");\n\n  async function getFabric() {\n      try{\n        await console.log("Getting the fabric details...");\n        let result = await client.get();\n\n        await console.log("result is: ", result);\n      } catch(e){\n        await console.log("Fabric details could not be fetched because "+ e);\n      }\n  }\n\n  getFabric();\n')))),(0,l.kt)("h2",{id:"create-collection"},"Create Collection"),(0,l.kt)("p",null,"We can now create collection in the fabric. To do this, first you connect to fabric and then create a collection called ",(0,l.kt)("inlineCode",{parentName:"p"},"employees"),"."),(0,l.kt)("p",null,"The below example shows the steps."),(0,l.kt)(i.Z,{groupId:"operating-systems",mdxType:"Tabs"},(0,l.kt)(c.Z,{value:"py",label:"Python",mdxType:"TabItem"},(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-py"},"  # Simple Approach\n  client = C8Client(protocol='https', host='gdn.paas.macrometa.io', port=443,\n                          email='nemo@nautilus.com', password='xxxxx',\n                          geofabric='_system')\n  client.create_collection(name='employees')\n"))),(0,l.kt)(c.Z,{value:"js",label:"Javascript",mdxType:"TabItem"},(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},'  const jsc8 = require("jsc8");\n\n  // Crete a authenticated instance with Token / Apikey\n  // const client = new jsc8({url: "https://gdn.paas.macrometa.io", token: "XXXX", fabricName: \'_system\'});\n  // const client = new jsc8({url: "https://gdn.paas.macrometa.io", apiKey: "XXXX", fabricName: \'_system\'});\n  // await console.log("Authentication done!!...");\n\n  // Or use Email & Password to Authenticate client instance\n  const client = new jsc8("https://gdn.paas.macrometa.io");\n\n  await client.login("nemo@nautilus.com", "xxxxxx");\n\n  async function createCollection() {\n    await console.log("Creating the collection employees under demoFabric...");\n    let collectionDetails;\n    try{\n      collectionDetails = await client.createCollection(\'employees\'); \n      await console.log("The collection details are: ", collectionDetails);\n    } catch(e){\n      return "Collection creation did not succeed due to " + e;\n    }\n\n    return "Collection " + collectionDetails.name + " created successfully";  \n  }\n\n  createCollection().then(console.log);\n')))),(0,l.kt)("h2",{id:"create-index"},"Create Index"),(0,l.kt)("p",null,"Let's add a ",(0,l.kt)("inlineCode",{parentName:"p"},"hash_index")," called emails to our collection employees. Please refer to reference guide for details on other available index types."),(0,l.kt)(i.Z,{groupId:"operating-systems",mdxType:"Tabs"},(0,l.kt)(c.Z,{value:"py",label:"Python",mdxType:"TabItem"},(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-py"},"  # Simple Approach\n  client = C8Client(protocol='https', host='gdn.paas.macrometa.io', port=443,\n                          email='nemo@nautilus.com', password='xxxxx',\n                          geofabric='_system')\n  print(\"Add Hash Index\", client.add_hash_index('employees', fields=['continent', 'country'], unique=True)\n  )        \n"))),(0,l.kt)(c.Z,{value:"js",label:"Javascript",mdxType:"TabItem"},(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},'  const jsc8 = require("jsc8");\n\n  // Crete a authenticated instance with Token / Apikey\n  // const client = new jsc8({url: "https://gdn.paas.macrometa.io", token: "XXXX", fabricName: \'_system\'});\n  // const client = new jsc8({url: "https://gdn.paas.macrometa.io", apiKey: "XXXX", fabricName: \'_system\'});\n  // await console.log("Authentication done!!...");\n\n  // Or use Email & Password to Authenticate client instance\n  const client = new jsc8("https://gdn.paas.macrometa.io");\n\n  await client.login("nemo@nautilus.com", "xxxxxx");\n\n  async function createIndex() {\n    await console.log("Creating the index on collection employees under demoFabric...");\n    let index;\n    try{\n      index = await client.addHashIndex("employees", ["email", "_key"]); \n      await console.log("The index details are: ", index);\n    } catch(e){\n      return "Index creation did not succeed due to " + e;\n    }\n\n    return "Index created successfully";  \n  }\n\n  createIndex().then(console.log);\n')))),(0,l.kt)("h2",{id:"insert-documents"},"Insert Documents"),(0,l.kt)("p",null,"Let's insert documents to the employees collection as shown below."),(0,l.kt)(i.Z,{groupId:"operating-systems",mdxType:"Tabs"},(0,l.kt)(c.Z,{value:"py",label:"Python",mdxType:"TabItem"},(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-py"},"  # Simple Approach\n  client = C8Client(protocol='https', host='gdn.paas.macrometa.io', port=443,\n                          email='nemo@nautilus.com', password='xxxxx',\n                          geofabric='_system')\n  client.insert_document(collection_name='employees', document={'_key':'Jean', 'firstname': 'Jean', 'lastname':'Picard', 'email':'jean.picard@macrometa.io'})\n\n  docs = [\n    {'_kefabricy':'James', 'firstname': 'James', 'lastname':'Kirk', 'email':'james.kirk@mafabriccrometa.io'},\n    {'_kefabricy': 'Han', 'firstname': 'Han', 'lastname':'Solo', 'email':'han.solo@macrfabricometa.io'},\n    {'_kefabricy': 'Bruce', 'firstname': 'Bruce', 'lastname':'Wayne', 'email':'bruce.wayne@mfabricacrometa.io'}\n  ]\n\n  client.insert_document(collection_name='employees', document=docs)\n"))),(0,l.kt)(c.Z,{value:"js",label:"Javascript",mdxType:"TabItem"},(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"  const jsc8 = require(\"jsc8\");\n\n  // Crete a authenticated instance with Token / Apikey\n  // const client = new jsc8({url: \"https://gdn.paas.macrometa.io\", token: \"XXXX\", fabricName: '_system'});\n  // const client = new jsc8({url: \"https://gdn.paas.macrometa.io\", apiKey: \"XXXX\", fabricName: '_system'});\n  // await console.log(\"Authentication done!!...\");\n\n  // Or use Email & Password to Authenticate client instance\n  const client = new jsc8(\"https://gdn.paas.macrometa.io\");\n\n  await client.login(\"nemo@nautilus.com\", \"xxxxxx\");\n\n  //Variables\n  const docJean = {'_key':'Jean', \n            'firstname': 'Jean', \n            'lastname':'Picard', 'email':'jean.picard@macrometa.io'};\n\n  const docJames = {'_key':'James', \n                    'firstname': 'James', 'lastname':'Kirk', 'email':'james.kirk@macrometa.io'};\n\n  const docHan = {'_key': 'Han', \n                  'firstname': 'Han',\n                  'lastname':'Solo', 'email':'han.solo@macrometa.io'};\n\n  const docBruce = {'_key': 'Bruce',\n                    'firstname': 'Bruce', 'lastname':'Wayne', 'email':'bruce.wayne@macrometa.io'};\n\n  const docs = [docJean, docJames, docHan, docBruce];\n\n\n  async function populate() {\n    await console.log(\"Creating the collection object to be used and populating with documents...\");\n    await client.insertDocumentMany(\"employees\", docs);\n    await console.log(\"collection populated with documents\");\n  }\n\n  populate();\n")))),(0,l.kt)("h2",{id:"query-documents-using-c8ql"},"Query documents using C8QL"),(0,l.kt)("p",null,"C8QL is C8's query language. You can execute C8QL query on our newly created collection employees to get its contents."),(0,l.kt)("p",null,"The query ",(0,l.kt)("inlineCode",{parentName:"p"},"FOR employee IN employees RETURN employee")," is equivalent to SQL's SELECT query."),(0,l.kt)(i.Z,{groupId:"operating-systems",mdxType:"Tabs"},(0,l.kt)(c.Z,{value:"py",label:"Python",mdxType:"TabItem"},(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-py"},"  # Simple Approach\n  client = C8Client(protocol='https', host='gdn.paas.macrometa.io', port=443,\n                          email='nemo@nautilus.com', password='xxxxx',\n                          geofabric='_system')\n\n  client.execute_query('FOR employee IN employees RETURN employee')\n"))),(0,l.kt)(c.Z,{value:"js",label:"Javascript",mdxType:"TabItem"},(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},'  const jsc8 = require("jsc8");\n\n  // Crete a authenticated instance with Token / Apikey\n  // const client = new jsc8({url: "https://gdn.paas.macrometa.io", token: "XXXX", fabricName: \'_system\'});\n  // const client = new jsc8({url: "https://gdn.paas.macrometa.io", apiKey: "XXXX", fabricName: \'_system\'});\n  // await console.log("Authentication done!!...");\n\n  // Or use Email & Password to Authenticate client instance\n  const client = new jsc8("https://gdn.paas.macrometa.io");\n\n  await client.login("nemo@nautilus.com", "xxxxxx");\n\n  async function c8Queries() {\n    \n    const result = await client.executeQuery(\n      "FOR employee IN employees RETURN employee"\n    );\n    await console.log(result);\n  }\n\n  c8Queries();\n')))),(0,l.kt)("h2",{id:"get-realtime-updates"},"Get realtime updates"),(0,l.kt)("p",null,"Example for real-time updates from a collection in fabric:"),(0,l.kt)(i.Z,{groupId:"operating-systems",mdxType:"Tabs"},(0,l.kt)(c.Z,{value:"py",label:"Python",mdxType:"TabItem"},(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-py"},"  # Simple Approach\n  client = C8Client(protocol='https', host='gdn.paas.macrometa.io', port=443,\n                          email='nemo@nautilus.com', password='xxxxx',\n                          geofabric='_system')\n\n  #--------------------------------------------------------------\n  def callback_fn(event):\n      print(event)\n  #--------------------------------------------------------------\n  client.on_change(\"employees\", callback=callback_fn)    \n"))),(0,l.kt)(c.Z,{value:"js",label:"Javascript",mdxType:"TabItem"},(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},'  const jsc8 = require("jsc8");\n\n  // Crete a authenticated instance with Token / Apikey\n  // const client = new jsc8({url: "https://gdn.paas.macrometa.io", token: "XXXX", fabricName: \'_system\'});\n  // const client = new jsc8({url: "https://gdn.paas.macrometa.io", apiKey: "XXXX", fabricName: \'_system\'});\n  // await console.log("Authentication done!!...");\n\n  // Or use Email & Password to Authenticate client instance\n  const client = new jsc8("https://gdn.paas.macrometa.io");\n\n  await client.login("nemo@nautilus.com", "xxxxxx");\n\n  async function callback_fn(collection){\n    await console.log("Connection open on ", collection.name);\n  }\n\n  async function realTimeListener() {\n    const listener = await client.onCollectionChange("employees");\n\n    listener.on(\'message\',(msg) => console.log("message=>", msg));\n    listener.on(\'open\',() => {\n        this.callback_fn(collection);\n      });\n    listener.on(\'close\',() => console.log("connection closed"));\n  }\n\n  realTimeListener();\n')))),(0,l.kt)("h2",{id:"query-as-api"},"Query as API"),(0,l.kt)("p",null,"Query as API (aka RESTQL) enables developers to quickly convert saved C8QL queries into geo-distributed REST APIs. This eliminates the need for separate backend servers & containers for CRUD operations."),(0,l.kt)(i.Z,{groupId:"operating-systems",mdxType:"Tabs"},(0,l.kt)(c.Z,{value:"py",label:"Python",mdxType:"TabItem"},(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-py"},'  from c8 import C8Client\n\n  fed_url = "gdn.paas.macrometa.io"\n  guest_mail = "nemo@nautilus.com"\n  guest_password = "xxxxxx"\n  geo_fabric = "_system"\n  collection_name = "person"\n\n  value = "INSERT {\'firstname\':@firstname, \'lastname\':@lastname, \'email\':@email, \'zipcode\':@zipcode, \'_key\': \'abc\'} IN %s" % collection_name\n  parameter = {"firstname": "", "lastname": "", "email": "", "zipcode": ""}\n\n  insert_data = {"query": {"name": "insertRecord", "parameter": parameter, "value": value}} \n  get_data = {"query": {"name": "getRecords", "value": "FOR doc IN %s RETURN doc" % collection_name}}\n  update_data = {"query": {"name": "updateRecord", "value": "UPDATE \'abc\' WITH { \\"lastname\\": \\"cena\\" } IN %s" % collection_name }}\n  delete_data= {"query": {"name": "deleteRecord", "value": "REMOVE \'abc\' IN %s" % collection_name}}\n  get_count = {"query": {"name": "countRecords", "value": "RETURN COUNT(FOR doc IN %s RETURN 1)" % collection_name}}\n\n  if __name__ == \'__main__\':\n\n      print("\\n ------- CONNECTION SETUP  ------")\n      print("tenant: {}, geofabric:{}".format(guest_mail, geo_fabric))\n      client = C8Client(protocol=\'https\', host=fed_url, port=443,\n                      email=guest_mail, password=guest_password,\n                      geofabric=geo_fabric)    \n\n      print("\\n ------- CREATE GEO-REPLICATED COLLECTION  ------")\n      if client.has_collection(collection_name):\n        print("Collection exists")\n      else:\n        employees = client.create_collection(collection_name)\n      print("Created collection: {}".format(collection_name))\n\n      print("\\n ------- CREATE RESTQLs  ------")\n      client.create_restql(insert_data)  # name: insertRecord\n      client.create_restql(get_data)  # name: getRecords\n      client.create_restql(update_data)  # name: updateRecord\n      client.create_restql(delete_data)  # name: deleteRecord\n      client.create_restql(get_count)  # name: countRecords\n      print("Created RESTQLs:{}".format(client.get_restqls()))\n\n      print("\\n ------- EXECUTE RESTQLs ------")\n      print("Insert data....")\n      response = client.execute_restql(\n          "insertRecord",\n          {"bindVars": {"firstname": "john", "lastname": "doe",\n                        "email": "john.doe@macrometa.io", "zipcode": "511037"}})\n      print("Get data....")\n      response = client.execute_restql("getRecords")\n      print("Update data....")\n      response = client.execute_restql("updateRecord")\n      print("Get data....")\n      response = client.execute_restql("getRecords")\n      print("Count records....")\n      response = client.execute_restql("countRecords")\n      print("Delete data....")\n      response = client.execute_restql("deleteRecord")\n\n      print("\\n ------- DELETE RESTQLs ------")\n      client.delete_restql("insertRecord")\n      client.delete_restql("getRecords")\n      client.delete_restql("updateRecord")\n      client.delete_restql("countRecords")\n      client.delete_restql("deleteRecord")\n\n      print("\\n ------- DONE  ------")\n'))),(0,l.kt)(c.Z,{value:"js",label:"Javascript",mdxType:"TabItem"},(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},'  const jsc8 = require(\'jsc8\');\n\n  // Crete a authenticated instance with Token / Apikey\n  // const client = new jsc8({url: "https://gdn.paas.macrometa.io", token: "XXXX", fabricName: \'_system\'});\n  // const client = new jsc8({url: "https://gdn.paas.macrometa.io", apiKey: "XXXX", fabricName: \'_system\'});\n  // await console.log("Authentication done!!...");\n\n  // Or use Email & Password to Authenticate client instance\n  const client = new jsc8("https://gdn.paas.macrometa.io");\n\n  await client.login("nemo@nautilus.com", "xxxxxx");\n\n  //Variables\n  const collection_name = "addresses" + Math.floor(1000 + Math.random() * 9000).toString();\n\n  //Queries\n  const insert_data = "INSERT {\'firstname\':@firstname, \'lastname\':@lastname, \'email\':@email, \'zipcode\':@zipcode, \'_key\': \'abc\'} IN " + collection_name;\n\n  const get_data = "FOR doc IN " + collection_name + " RETURN doc";\n\n  const update_data = "UPDATE \'abc\' WITH {\'lastname\': @lastname } IN " + collection_name;\n\n  const delete_data = "REMOVE \'abc\' IN " + collection_name;\n\n  const get_count = "RETURN COUNT(FOR doc IN " + collection_name + " RETURN 1)";\n\n\n  async function restqldemo() {\n    console.log("------- CREATE GEO-REPLICATED COLLECTION  ------");\n\n    const collection = await client.createCollection(collection_name);\n\n    console.log("Collection " + collection_name + " created.\\n");\n\n    console.log("------- SAVING THE QUERIES  ------");\n\n    await client.createRestql("insertData", insert_data, {});\n    await client.createRestql("getData", get_data, {});\n    await client.createRestql("updateData", update_data, {});\n    await client.createRestql("deleteData", delete_data, {});\n    await client.createRestql("getCount", get_count, {});\n\n    console.log("Saved Queries Successfully\\n");\n\n    console.log("------- EXECUTING THE QUERIES  ------");\n\n    const bindVars = {\n      "firstname": "john", "lastname": "doe",\n      "email": "john.doe@macrometa.io", "zipcode": "511037"\n    };\n\n    await client.executeRestql("insertData", bindVars);\n\n    console.log("Data Inserted \\n");\n\n    const res = await client.executeRestql("getData");\n\n    console.log("Output of get data query:");\n    console.log(res.result);\n    console.log("\\n");\n\n    await client.executeRestql("updateData", { "lastname": "mathews" });\n\n    console.log("Data updated \\n");\n\n    const data = await client.executeRestql("getData");\n\n    console.log("Output of get data query after update:");\n\n    console.log(data.result);\n\n    console.log("\\n");\n\n    const count = await client.executeRestql("getCount");\n\n    console.log("Count:");\n\n    console.log(count.result);\n\n    await client.executeRestql("deleteData");\n  }\n\n  restqldemo().then(console.log("Starting Execution"));\n')))))}g.isMDXComponent=!0}}]);